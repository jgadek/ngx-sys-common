{"version":3,"file":"ngx-sys-common.js","sources":["ng://@ngx/sys-common/lib/ngx-sys-common.service.ts","ng://@ngx/sys-common/lib/ngx-sys-common.component.ts","ng://@ngx/sys-common/lib/ngx-sys-common.module.ts","ng://@ngx/sys-common/lib/dynamic-modal/dynamic-modal.manager.ts","ng://@ngx/sys-common/lib/dynamic-modal/dynamic-modal.component.ts","ng://@ngx/sys-common/lib/dynamic-modal/dynamic-modal.module.ts","ng://@ngx/sys-common/lib/dynamic-modal/dynamic-modal.interfaces.ts","ng://@ngx/sys-common/lib/dynamic-modal/dynamic-modal.form.abstract.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxSysCommonService {\n\n  constructor() { }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-ngx-sys-common',\n  template: `\n    <p>\n      ngx-sys-common works!\n    </p>\n  `,\n  styles: []\n})\nexport class NgxSysCommonComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { NgxSysCommonComponent } from './ngx-sys-common.component';\n\n\n\n@NgModule({\n  declarations: [NgxSysCommonComponent],\n  imports: [\n  ],\n  exports: [NgxSysCommonComponent]\n})\nexport class NgxSysCommonModule { }\n","import {Subject} from 'rxjs';\n\nexport class DynamicModalManager {\n  show = new Subject();\n  hide = new Subject();\n}\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output, TemplateRef, ViewChild} from '@angular/core';\nimport {DynamicModalManager} from './dynamic-modal.manager';\nimport {Subscription} from 'rxjs';\n\nimport {BsModalRef, BsModalService} from 'ngx-bootstrap';\nimport {IDynamicModalShowAction, IDynamicModalShowActionParams} from './dynamic-modal.interfaces';\n\n@Component({\n  selector: 'lib-dynamic-modal',\n  templateUrl: './dynamic-modal.component.html',\n  styleUrls: ['./dynamic-modal.component.scss']\n})\nexport class DynamicModalComponent implements OnInit, OnDestroy {\n  @Input() title: string;\n  @Input() confirm: boolean;\n  @Input() modalClass: any = 'card-body';\n  @Input() yesButtonText = 'Yes';\n  @Input() noButtonText = 'No';\n  @Input() manager: DynamicModalManager;\n\n  @Output() actionDone = new EventEmitter();\n  @Output() submit = new EventEmitter();\n\n  public params: IDynamicModalShowActionParams;\n  public modalRef: BsModalRef;\n\n  private subs: Subscription[] = [];\n\n  @ViewChild('modal', {static: true}) modal: TemplateRef<any>;\n\n  constructor(protected modalService: BsModalService) { }\n\n  ngOnInit() {\n    this.subs.push(\n      this.manager.show.subscribe((value: IDynamicModalShowAction | null) => {\n        this.openModal(value);\n      })\n    );\n\n    this.subs.push(\n      this.manager.hide.subscribe(() => {\n        this.hideModal();\n      })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this._unsubscribe();\n  }\n\n  onSubmit() {\n    this.submit.next(this.params);\n  }\n\n  public openModal(value: IDynamicModalShowAction | null) {\n    this.params = value ? value.params : {};\n\n    const config = value ? value.params : {};\n    const modalDefaultConfig = {\n      backdrop: true,\n      ignoreBackdropClick: true\n    };\n\n    const modalConfig = {...modalDefaultConfig, ...config};\n\n    this.modalRef = this.modalService.show(this.modal, modalConfig);\n  }\n\n  public hideModal(actionSuccess: boolean = false) {\n    if (actionSuccess) {\n      this.actionDone.emit(true);\n    }\n    this.modalRef.hide();\n  }\n\n  private _unsubscribe() {\n    this.subs.forEach((subscription: Subscription) => {\n      subscription.unsubscribe();\n    });\n\n    this.subs = [];\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DynamicModalComponent } from './dynamic-modal.component';\nimport { ModalModule } from 'ngx-bootstrap';\n\n@NgModule({\n  declarations: [DynamicModalComponent],\n  exports: [DynamicModalComponent],\n  imports: [\n    CommonModule,\n    ModalModule.forRoot(),\n  ]\n})\nexport class DynamicModalModule { }\n","export interface IDynamicModalShowAction {\n  config?: any;\n  params?: IDynamicModalShowActionParams;\n}\n\nexport interface IDynamicModalShowActionParams {\n  title?: any;\n  body?: any;\n}\n","import {EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {DynamicModalManager} from './dynamic-modal.manager';\n\n\nexport abstract class DynamicModalFormAbstract implements OnInit, OnChanges {\n  @Input() manager: DynamicModalManager;\n  @Input() selected: any;\n\n  @Output() refresh: EventEmitter<any> = new EventEmitter();\n\n  public error: string;\n  public formSections: any;\n\n  ngOnInit() {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.error = null;\n\n    if (this.selected) {\n      this._init();\n    }\n  }\n\n  protected abstract _init(): void;\n}\n"],"names":[],"mappings":"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"}